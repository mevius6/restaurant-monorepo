include ./mixins

block vars

doctype html
html(class="no-js" dir="ltr" lang="ru")
  head
    include ./_meta
    block pre-connections
    include ./_fonts

    script(type="module").
      document.documentElement.classList.replace('no-js', 'js');

    if page.id === 'index'
      link(
        rel="preload"
        href="./scss/splitting.css" as="style"
        onload="this.onload=null;this.rel='stylesheet'"
      )
      link(
        rel="preload"
        href="./scss/map.scss" as="style"
        onload="this.onload=null;this.rel='stylesheet'"
      )
      noscript: link(rel="stylesheet" href="./scss/splitting.css")
      noscript: link(rel="stylesheet" href="./scss/map.scss")

    link(rel="stylesheet" type="text/css" href="./scss/main.scss")
    script(defer type="module" src="./js/modules.js")
    block head

  body.page.page--loading(itemscope itemtype="https://schema.org/WebPage")
    noscript: h2 В вашем браузере необходимо включить JavaScript.
    include ./_header

    main(
      data-id= page.id
      itemscope itemtype="https://schema.org/Restaurant"
      itemid= data.meta.domain
    )
      include ./_microdata
      .a2hs.hidden
        +cta({
          base: 'a2hs',
          type: 'button',
          text: 'Установить'
        })
      block content

    include ./_cursor
    script(src="./js/index.js")
    block scripts

    prepend scripts
      script(src="./a2hs.js")
